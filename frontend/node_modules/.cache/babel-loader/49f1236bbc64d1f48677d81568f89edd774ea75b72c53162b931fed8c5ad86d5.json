{"ast":null,"code":"var _jsxFileName = \"/Users/polisettiveeravenkatavijayasubhash/Desktop/Patient_Management_System/frontend/src/components/PatientForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport '../styles/styles.css';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PatientForm() {\n  _s();\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    firstname: '',\n    lastname: '',\n    email: '',\n    address: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n  const validateEmail = email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n  useEffect(() => {\n    if (touched.email) {\n      if (!form.email) {\n        setErrors(prev => ({\n          ...prev,\n          email: 'Email is required'\n        }));\n      } else if (!validateEmail(form.email)) {\n        setErrors(prev => ({\n          ...prev,\n          email: 'Please enter a valid email address'\n        }));\n      } else {\n        setErrors(prev => ({\n          ...prev,\n          email: null\n        }));\n      }\n    }\n  }, [form.email, touched.email]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm({\n      ...form,\n      [name]: value\n    });\n  };\n  const handleBlur = e => {\n    const {\n      name\n    } = e.target;\n    setTouched(prev => ({\n      ...prev,\n      [name]: true\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!form.firstname || !form.lastname || !form.email || !form.address) {\n      alert('Please fill in all fields correctly.');\n      return;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(form.email)) {\n      alert('Please enter a valid email address.');\n      return;\n    }\n    api.post('/patients', form).then(() => {\n      alert('Patient added successfully');\n      navigate('/');\n      setForm({\n        firstname: '',\n        lastname: '',\n        email: '',\n        address: ''\n      });\n    }).catch(err => {\n      var _err$response, _err$response$data;\n      if ((_err$response = err.response) !== null && _err$response !== void 0 && (_err$response$data = _err$response.data) !== null && _err$response$data !== void 0 && _err$response$data.error) {\n        alert(err.response.data.error);\n      } else {\n        alert('Something went wrong. Please try again.');\n        console.error(err);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"patient-form\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add New Patient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"firstname\",\n      value: form.firstname,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      placeholder: \"First Name\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"lastname\",\n      value: form.lastname,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      placeholder: \"Last Name\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-field\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"email\",\n        value: form.email,\n        onChange: handleChange,\n        onBlur: handleBlur,\n        placeholder: \"Email\",\n        className: errors.email && touched.email ? \"input-error\" : \"\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), errors.email && touched.email && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: errors.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"address\",\n      value: form.address,\n      onChange: handleChange,\n      onBlur: handleBlur,\n      placeholder: \"Address\",\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Add Patient\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(PatientForm, \"0YcSmbMAl1r1gIOrnaWfXbrc/ns=\", false, function () {\n  return [useNavigate];\n});\n_c = PatientForm;\nexport default PatientForm;\nvar _c;\n$RefreshReg$(_c, \"PatientForm\");","map":{"version":3,"names":["React","useState","useEffect","api","useNavigate","jsxDEV","_jsxDEV","PatientForm","_s","navigate","form","setForm","firstname","lastname","email","address","errors","setErrors","touched","setTouched","validateEmail","emailRegex","test","prev","handleChange","e","name","value","target","handleBlur","handleSubmit","preventDefault","alert","post","then","catch","err","_err$response","_err$response$data","response","data","error","console","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","onBlur","placeholder","required","type","_c","$RefreshReg$"],"sources":["/Users/polisettiveeravenkatavijayasubhash/Desktop/Patient_Management_System/frontend/src/components/PatientForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport '../styles/styles.css';\nimport { useNavigate } from 'react-router-dom';\n\nfunction PatientForm() {\n    const navigate = useNavigate();\n  const [form, setForm] = useState({ firstname: '', lastname: '', email: '', address: '' });\n  const [errors, setErrors] = useState({});\n  const [touched, setTouched] = useState({});\n\n  const validateEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  useEffect(() => {\n    \n    if (touched.email) {\n      if (!form.email) {\n        setErrors(prev => ({ ...prev, email: 'Email is required' }));\n      } else if (!validateEmail(form.email)) {\n        setErrors(prev => ({ ...prev, email: 'Please enter a valid email address' }));\n      } else {\n        setErrors(prev => ({ ...prev, email: null }));\n      }\n    }\n  }, [form.email, touched.email]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setForm({ ...form, [name]: value });\n  };\n\n  const handleBlur = (e) => {\n    const { name } = e.target;\n    setTouched(prev => ({ ...prev, [name]: true }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!form.firstname || !form.lastname || !form.email || !form.address) {\n      alert('Please fill in all fields correctly.');\n      return;\n    }\n\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(form.email)) {\n      alert('Please enter a valid email address.');\n      return;\n    }\n\n    api.post('/patients', form)\n      .then(() => {\n        alert('Patient added successfully');\n         navigate('/');\n        setForm({ firstname: '', lastname: '', email: '', address: '' }); \n      })\n      .catch(err => {\n        if (err.response?.data?.error) {\n          alert(err.response.data.error);\n        } else {\n          alert('Something went wrong. Please try again.');\n          console.error(err);\n        }\n      });\n  };\n\n  return (\n    <form className=\"patient-form\" onSubmit={handleSubmit}>\n      <h2>Add New Patient</h2>\n      <input \n        name=\"firstname\" \n        value={form.firstname} \n        onChange={handleChange} \n        onBlur={handleBlur}\n        placeholder=\"First Name\" \n        required \n      />\n      \n      <input \n        name=\"lastname\" \n        value={form.lastname} \n        onChange={handleChange} \n        onBlur={handleBlur}\n        placeholder=\"Last Name\" \n        required \n      />\n      \n      <div className=\"form-field\">\n        <input \n          name=\"email\" \n          value={form.email} \n          onChange={handleChange} \n          onBlur={handleBlur}\n          placeholder=\"Email\" \n          className={errors.email && touched.email ? \"input-error\" : \"\"}\n          required \n        />\n        {errors.email && touched.email && (\n          <div className=\"error-message\">{errors.email}</div>\n        )}\n      </div>\n      \n      <input \n        name=\"address\" \n        value={form.address} \n        onChange={handleChange} \n        onBlur={handleBlur}\n        placeholder=\"Address\" \n        required \n      />\n      \n      <button type=\"submit\">Add Patient</button>\n    </form>\n  );\n}\n\nexport default PatientForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}